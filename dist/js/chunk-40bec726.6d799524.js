(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40bec726"],{37906:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("h1",{staticClass:"title"},[e._v("Search Page")]),t("div",{staticClass:"search-container"},[t("div",{staticClass:"search-input"},[t("b-form-input",{attrs:{placeholder:"Enter recipe name",col:"2"},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}}),t("b-button",{on:{click:function(t){return e.updateRecipes()}}},[e._v("Search")])],1),t("div",{staticClass:"select-inputs"},[t("b-form-select",{attrs:{options:e.cusineOptions},model:{value:e.cusineSelected,callback:function(t){e.cusineSelected=t},expression:"cusineSelected"}}),t("b-form-select",{attrs:{options:e.dietOptions},model:{value:e.dietSelected,callback:function(t){e.dietSelected=t},expression:"dietSelected"}}),t("b-form-select",{attrs:{options:e.intoleranceOptions},model:{value:e.intoleranceSelected,callback:function(t){e.intoleranceSelected=t},expression:"intoleranceSelected"}}),t("b-form-select",{attrs:{options:e.numberOptions},model:{value:e.numberSelected,callback:function(t){e.numberSelected=t},expression:"numberSelected"}}),t("b-form-select",{attrs:{options:e.filterOptions},on:{change:function(t){return e.sortRecipes()}},model:{value:e.filterSelected,callback:function(t){e.filterSelected=t},expression:"filterSelected"}})],1),t("p",[e._v(" Last search: "+e._s(e.lastSearch))])]),t("b-container",[t("h3",[e._v(" Results: "),e._t("default")],2),t("b-row",e._l(e.recipes,(function(e){return t("b-col",{key:e.id},[t("RecipePreview",{staticClass:"recipePreview",attrs:{recipe:e}})],1)})),1)],1),e.showNoRecipesAlert?t("b-alert",{staticClass:"mt-2",attrs:{variant:"warning",dismissible:"",show:""}},[e._v(" No recipes found ")]):e._e()],1)},c=[],s=(n("4e82"),n("2909")),i=(n("96cf"),n("1da1")),l=n("832a"),a={components:{RecipePreview:l["a"]},data:function(){return{searchQuery:"",recipes:[],showNoRecipesAlert:!1,lastSearch:"",cusineSelected:null,cusineOptions:[{value:null,text:"Cuisine"}],dietSelected:null,dietOptions:[{value:null,text:"Diet"}],intoleranceSelected:null,intoleranceOptions:[{value:null,text:"Intolerance"}],numberSelected:null,numberOptions:[{value:null,text:"Results count"},{value:"5",text:"5"},{value:"10",text:"10"},{value:"15",text:"15"}],filterSelected:null,filterOptions:[{value:null,text:"Filter by"},{value:"a",text:"Preperation time"},{value:"b",text:"Popularity"}]}},mounted:function(){localStorage.getItem("lastSearch")&&(this.lastSearch=localStorage.getItem("lastSearch")),this.showNoRecipesAlert=!1},methods:{updateRecipes:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.lastSearch=e.searchQuery,localStorage.setItem("lastSearch",e.lastSearch),e.showNoRecipesAlert=!1,t.prev=3,t.next=6,e.axios.get(e.$root.store.server_domain+"/recipes/complexSearch",{params:{query:e.searchQuery,cuisine:e.cusineSelected,intolerance:e.intoleranceSelected,diet:e.dietSelected,number:e.numberSelected},withCredentials:!0});case 6:r=t.sent,c=r.data,e.recipes=[],(n=e.recipes).push.apply(n,Object(s["a"])(c)),0===c.length&&(e.showNoRecipesAlert=!0),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](3),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[3,13]])})))()},sortRecipes:function(){switch(this.filterSelected){case"a":return console.log(this.recipes.sort((function(e,t){return e.readyInMinutes-t.readyInMinutes}))),this.recipes.sort((function(e,t){return e.readyInMinutes-t.readyInMinutes}));case"b":return this.recipes.sort((function(e,t){return t.popularity-e.popularity}));default:return this.recipes}}}},o=a,u=(n("d3a0"),n("0c7c")),p=Object(u["a"])(o,r,c,!1,null,null,null);t["default"]=p.exports},"4e82":function(e,t,n){"use strict";var r=n("23e7"),c=n("1c0b"),s=n("7b0b"),i=n("d039"),l=n("a640"),a=[],o=a.sort,u=i((function(){a.sort(void 0)})),p=i((function(){a.sort(null)})),d=l("sort"),h=u||!p||!d;r({target:"Array",proto:!0,forced:h},{sort:function(e){return void 0===e?o.call(s(this)):o.call(s(this),c(e))}})},d3a0:function(e,t,n){"use strict";n("ee6b")},ee6b:function(e,t,n){}}]);
//# sourceMappingURL=chunk-40bec726.6d799524.js.map