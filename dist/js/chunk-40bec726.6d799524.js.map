{"version":3,"sources":["webpack:///./src/pages/SearchPage.vue","webpack:///src/pages/SearchPage.vue","webpack:///./src/pages/SearchPage.vue?93f2","webpack:///./src/pages/SearchPage.vue?f79c","webpack:///./node_modules/core-js/modules/es.array.sort.js","webpack:///./src/pages/SearchPage.vue?7b00"],"names":["render","_vm","this","_c","_self","staticClass","_v","attrs","model","value","searchQuery","callback","$$v","expression","on","$event","updateRecipes","cusineOptions","cusineSelected","dietOptions","dietSelected","intoleranceOptions","intoleranceSelected","numberOptions","numberSelected","filterOptions","sortRecipes","filterSelected","_s","lastSearch","_t","_l","recipes","r","key","id","showNoRecipesAlert","_e","staticRenderFns","components","RecipePreview","data","mounted","localStorage","getItem","methods","sort","component","$","aFunction","toObject","fails","arrayMethodIsStrict","test","nativeSort","FAILS_ON_UNDEFINED","undefined","FAILS_ON_NULL","STRICT_METHOD","FORCED","target","proto","forced","comparefn","call"],"mappings":"wHAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACE,YAAY,SAAS,CAACJ,EAAIK,GAAG,iBAAiBH,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,eAAe,CAACI,MAAM,CAAC,YAAc,oBAAoB,IAAM,KAAKC,MAAM,CAACC,MAAOR,EAAIS,YAAaC,SAAS,SAAUC,GAAMX,EAAIS,YAAYE,GAAKC,WAAW,iBAAiBV,EAAG,WAAW,CAACW,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOd,EAAIe,mBAAmB,CAACf,EAAIK,GAAG,aAAa,GAAGH,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,gBAAgB,CAACI,MAAM,CAAC,QAAUN,EAAIgB,eAAeT,MAAM,CAACC,MAAOR,EAAIiB,eAAgBP,SAAS,SAAUC,GAAMX,EAAIiB,eAAeN,GAAKC,WAAW,oBAAoBV,EAAG,gBAAgB,CAACI,MAAM,CAAC,QAAUN,EAAIkB,aAAaX,MAAM,CAACC,MAAOR,EAAImB,aAAcT,SAAS,SAAUC,GAAMX,EAAImB,aAAaR,GAAKC,WAAW,kBAAkBV,EAAG,gBAAgB,CAACI,MAAM,CAAC,QAAUN,EAAIoB,oBAAoBb,MAAM,CAACC,MAAOR,EAAIqB,oBAAqBX,SAAS,SAAUC,GAAMX,EAAIqB,oBAAoBV,GAAKC,WAAW,yBAAyBV,EAAG,gBAAgB,CAACI,MAAM,CAAC,QAAUN,EAAIsB,eAAef,MAAM,CAACC,MAAOR,EAAIuB,eAAgBb,SAAS,SAAUC,GAAMX,EAAIuB,eAAeZ,GAAKC,WAAW,oBAAoBV,EAAG,gBAAgB,CAACI,MAAM,CAAC,QAAUN,EAAIwB,eAAeX,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOd,EAAIyB,gBAAgBlB,MAAM,CAACC,MAAOR,EAAI0B,eAAgBhB,SAAS,SAAUC,GAAMX,EAAI0B,eAAef,GAAKC,WAAW,qBAAqB,GAAGV,EAAG,IAAI,CAACF,EAAIK,GAAG,iBAAiBL,EAAI2B,GAAG3B,EAAI4B,iBAAiB1B,EAAG,cAAc,CAACA,EAAG,KAAK,CAACF,EAAIK,GAAG,cAAcL,EAAI6B,GAAG,YAAY,GAAG3B,EAAG,QAAQF,EAAI8B,GAAI9B,EAAI+B,SAAS,SAASC,GAAG,OAAO9B,EAAG,QAAQ,CAAC+B,IAAID,EAAEE,IAAI,CAAChC,EAAG,gBAAgB,CAACE,YAAY,gBAAgBE,MAAM,CAAC,OAAS0B,MAAM,MAAK,IAAI,GAAIhC,EAAImC,mBAAoBjC,EAAG,UAAU,CAACE,YAAY,OAAOE,MAAM,CAAC,QAAU,UAAU,YAAc,GAAG,KAAO,KAAK,CAACN,EAAIK,GAAG,wBAAwBL,EAAIoC,MAAM,IAE33DC,EAAkB,G,4DC4CtB,GACAC,WAAA,CACIC,cAAJ,QAEAC,KAJA,WAKA,OACA,eACA,WACA,sBACA,cAEA,oBACA,eACA,6BAGA,kBACA,aACA,0BAGA,yBACA,oBACA,iCAGA,oBACA,eACA,kCACA,qBACA,uBACA,wBAGA,oBACA,eACA,8BACA,oCACA,iCAKAC,QA3CA,WA4CA,qCACMxC,KAAK2B,WAAac,aAAaC,QAAQ,eAE7C,4BAEAC,QAAA,CACI,cADJ,WACA,yKACA,2BACA,gDACA,wBAHA,kBAKA,YACA,qDACA,CACA,QACA,oBACA,yBACA,kCACA,oBACA,yBAEA,qBAfA,OAKA,EALA,OAmBA,SACA,cACA,6CAEA,eACA,yBAxBA,qDA4BA,kBA5BA,6DAgCA,YAjCA,WAmCM,OAAQ3C,KAAKyB,gBACX,IAAK,IAEb,OADA,0FACA,6EAEQ,IAAK,IACH,OAAOzB,KAAK8B,QAAQc,MAAK,SAAnC,yCACQ,QACE,OAAO5C,KAAK8B,YC1I4V,I,wBCQ9We,EAAY,eACd,EACA/C,EACAsC,GACA,EACA,KACA,KACA,MAIa,aAAAS,E,6CClBf,IAAIC,EAAI,EAAQ,QACZC,EAAY,EAAQ,QACpBC,EAAW,EAAQ,QACnBC,EAAQ,EAAQ,QAChBC,EAAsB,EAAQ,QAE9BC,EAAO,GACPC,EAAaD,EAAKP,KAGlBS,EAAqBJ,GAAM,WAC7BE,EAAKP,UAAKU,MAGRC,EAAgBN,GAAM,WACxBE,EAAKP,KAAK,SAGRY,EAAgBN,EAAoB,QAEpCO,EAASJ,IAAuBE,IAAkBC,EAItDV,EAAE,CAAEY,OAAQ,QAASC,OAAO,EAAMC,OAAQH,GAAU,CAClDb,KAAM,SAAciB,GAClB,YAAqBP,IAAdO,EACHT,EAAWU,KAAKd,EAAShD,OACzBoD,EAAWU,KAAKd,EAAShD,MAAO+C,EAAUc,Q,kCC7BlD,W","file":"js/chunk-40bec726.6d799524.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"Search Page\")]),_c('div',{staticClass:\"search-container\"},[_c('div',{staticClass:\"search-input\"},[_c('b-form-input',{attrs:{\"placeholder\":\"Enter recipe name\",\"col\":\"2\"},model:{value:(_vm.searchQuery),callback:function ($$v) {_vm.searchQuery=$$v},expression:\"searchQuery\"}}),_c('b-button',{on:{\"click\":function($event){return _vm.updateRecipes()}}},[_vm._v(\"Search\")])],1),_c('div',{staticClass:\"select-inputs\"},[_c('b-form-select',{attrs:{\"options\":_vm.cusineOptions},model:{value:(_vm.cusineSelected),callback:function ($$v) {_vm.cusineSelected=$$v},expression:\"cusineSelected\"}}),_c('b-form-select',{attrs:{\"options\":_vm.dietOptions},model:{value:(_vm.dietSelected),callback:function ($$v) {_vm.dietSelected=$$v},expression:\"dietSelected\"}}),_c('b-form-select',{attrs:{\"options\":_vm.intoleranceOptions},model:{value:(_vm.intoleranceSelected),callback:function ($$v) {_vm.intoleranceSelected=$$v},expression:\"intoleranceSelected\"}}),_c('b-form-select',{attrs:{\"options\":_vm.numberOptions},model:{value:(_vm.numberSelected),callback:function ($$v) {_vm.numberSelected=$$v},expression:\"numberSelected\"}}),_c('b-form-select',{attrs:{\"options\":_vm.filterOptions},on:{\"change\":function($event){return _vm.sortRecipes()}},model:{value:(_vm.filterSelected),callback:function ($$v) {_vm.filterSelected=$$v},expression:\"filterSelected\"}})],1),_c('p',[_vm._v(\" Last search: \"+_vm._s(_vm.lastSearch))])]),_c('b-container',[_c('h3',[_vm._v(\" Results: \"),_vm._t(\"default\")],2),_c('b-row',_vm._l((_vm.recipes),function(r){return _c('b-col',{key:r.id},[_c('RecipePreview',{staticClass:\"recipePreview\",attrs:{\"recipe\":r}})],1)}),1)],1),(_vm.showNoRecipesAlert)?_c('b-alert',{staticClass:\"mt-2\",attrs:{\"variant\":\"warning\",\"dismissible\":\"\",\"show\":\"\"}},[_vm._v(\" No recipes found \")]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <h1 class=\"title\">Search Page</h1>\r\n\r\n    <div class=\"search-container\">\r\n      <div class=\"search-input\">\r\n        <b-form-input v-model=\"searchQuery\" placeholder=\"Enter recipe name\" col=\"2\"></b-form-input>\r\n        \r\n        <b-button @click=\"updateRecipes()\">Search</b-button>\r\n      </div>\r\n      <div class=\"select-inputs\">\r\n        <b-form-select v-model=\"cusineSelected\" :options=\"cusineOptions\"></b-form-select>\r\n        <b-form-select v-model=\"dietSelected\" :options=\"dietOptions\"></b-form-select>\r\n        <b-form-select v-model=\"intoleranceSelected\" :options=\"intoleranceOptions\"></b-form-select>\r\n        <b-form-select v-model=\"numberSelected\" :options=\"numberOptions\"></b-form-select> \r\n        <b-form-select v-model=\"filterSelected\" :options=\"filterOptions\" @change=\"sortRecipes()\"></b-form-select>\r\n        \r\n      </div>\r\n      <p> Last search: {{ lastSearch }}</p>\r\n\r\n    </div>\r\n\r\n    <b-container>\r\n    <h3>\r\n      Results:\r\n      <slot></slot>\r\n    </h3>\r\n    <b-row>\r\n      <b-col v-for=\"r in recipes\" :key=\"r.id\">\r\n        <RecipePreview class=\"recipePreview\" :recipe=\"r\" />\r\n      </b-col>\r\n    </b-row>\r\n  </b-container>\r\n  <b-alert\r\n      class=\"mt-2\"\r\n      v-if=\"showNoRecipesAlert\"\r\n      variant=\"warning\"\r\n      dismissible\r\n      show>\r\n      No recipes found\r\n    </b-alert>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport RecipePreview from \"../components/RecipePreview\";\r\nexport default{\r\ncomponents: {\r\n    RecipePreview\r\n  },\r\ndata(){\r\n  return {\r\n    searchQuery:'', \r\n    recipes: [],\r\n    showNoRecipesAlert:false,\r\n    lastSearch:'',\r\n\r\n    cusineSelected: null,\r\n    cusineOptions: [\r\n      { value: null, text: 'Cuisine' },\r\n    ],\r\n\r\n    dietSelected: null,\r\n    dietOptions: [\r\n      { value: null, text: 'Diet' },\r\n    ],\r\n\r\n    intoleranceSelected: null,\r\n    intoleranceOptions: [\r\n      { value: null, text: 'Intolerance' },\r\n    ],\r\n\r\n    numberSelected: null,\r\n    numberOptions: [\r\n      { value: null, text: 'Results count' },\r\n      { value: '5', text: '5' },\r\n      { value: '10', text: '10' },\r\n      { value: '15', text: '15' },\r\n    ],\r\n\r\n    filterSelected: null,\r\n    filterOptions: [\r\n      { value: null, text: 'Filter by' },\r\n      { value: 'a', text: 'Preperation time' },\r\n      { value: 'b', text: 'Popularity' },\r\n    ]\r\n      \r\n  }\r\n},\r\nmounted(){\r\n  if (localStorage.getItem(`lastSearch`)) {\r\n      this.lastSearch = localStorage.getItem(`lastSearch`);   \r\n    }\r\n  this.showNoRecipesAlert=false\r\n},\r\nmethods: {\r\n    async updateRecipes() {\r\n      this.lastSearch = this.searchQuery;\r\n      localStorage.setItem(`lastSearch`,  this.lastSearch);\r\n      this.showNoRecipesAlert=false\r\n      try {\r\n        const response = await this.axios.get(\r\n        this.$root.store.server_domain + '/recipes/complexSearch',\r\n          {\r\n            params: {\r\n              query: this.searchQuery,\r\n              cuisine: this.cusineSelected,\r\n              intolerance: this.intoleranceSelected,\r\n              diet: this.dietSelected,\r\n              number: this.numberSelected\r\n            },\r\n            withCredentials: true\r\n          }\r\n        );\r\n\r\n        const recipes = response.data;\r\n        this.recipes = [];\r\n        this.recipes.push(...recipes);\r\n\r\n        if (recipes.length ===0 )\r\n          this.showNoRecipesAlert = true;\r\n\r\n      } \r\n      catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n  \r\n  sortRecipes() {\r\n      // Sort the recipes based on the selected filter\r\n      switch (this.filterSelected) {\r\n        case 'a':\r\n        console.log(this.recipes.sort((a, b) => a.readyInMinutes - b.readyInMinutes));\r\n        return this.recipes.sort((a, b) => a.readyInMinutes - b.readyInMinutes);\r\n          \r\n        case 'b':\r\n          return this.recipes.sort((a, b) => b.popularity - a.popularity);\r\n        default:\r\n          return this.recipes;\r\n      }\r\n    },\r\n\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n.search-container {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 10px;\r\n  align-items: center; /* Center vertically */\r\n}\r\n\r\n.search-input {\r\n  display: flex;\r\n  gap: 10px;\r\n  width: 250px;\r\n\r\n}\r\n\r\n.select-inputs {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 10px;\r\n  width: 750px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchPage.vue?vue&type=template&id=0b92d47b&\"\nimport script from \"./SearchPage.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchPage.vue?vue&type=style&index=0&id=0b92d47b&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar test = [];\nvar nativeSort = test.sort;\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar STRICT_METHOD = arrayMethodIsStrict('sort');\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD;\n\n// `Array.prototype.sort` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? nativeSort.call(toObject(this))\n      : nativeSort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchPage.vue?vue&type=style&index=0&id=0b92d47b&prod&lang=css&\""],"sourceRoot":""}